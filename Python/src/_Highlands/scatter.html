<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<!--      
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
-->
    <script src="d3-3.5.17/d3.min.js"></script>
    <script src="c3-0.4.10/c3.min.js"></script>
    <link rel="stylesheet" href="c3-0.4.10/c3.min.css"/>
</head>
<body>
<div class="container">
	<h1>Example of Scatter Diagram</h1>
    <div id="chart"></div>
</div>
<style>
#chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > text {
	font-size: xx-large;
	color: "black";
}
</style>
<script>

function isInteger(n) {
	let base = Math.floor(n);
	let diff = Math.abs(base - n);
	return diff < 0.0001;
}

mydata = [[2, 0, 1, 2, 4],
    [3, 2, 0, 2, 1],
    [2, 4, 1, 2, 3],
    [3, 4, 1, 2, 3],
    [0, 4, 1, 0, 2]];


var xLabels = ["Very Low", "Low", "Neutral", "Moderate", "High"];
var yLabels = ["Very Low", "Low", "Neutral", "Moderate", "High"];

var chart = c3.generate({
 	bindto: "#chart",
    data: {
        xs: {
            ' ': 'x',
        },
        columns: [
            ["x", 3, 2, 3, 4, 0, 3, 1, 1, 3, 2, 0],
            [" ", 2, 1, 4, 3, 2, 4, 0, 3, 4, 0, 0],
        ],
        type: 'scatter'
    },
    point: {
        r: function(d) {
        	let xy = d['index'];
        	let x = Math.floor(xy / 5);
        	let y = xy % 5;
            return mydata[x][y]*3;
        }
    },
    legend: {
        hide: true
    },
    axis: {
        x: {
            label: {
            	position: 'outer-center',
            	text: 'Client Revenue Growth'
            },
            tick: {
            	format: function(x) { 
               		if(isInteger(x))
            			return xLabels[x];
            		else
            			return '';
            	},
                fit: false
            }
        },
        y: {
            label: {
            	position: 'outer-middle',
            	text: 'Market Growth'
            },
			tick: { format: 
            	function(y) { 
            		if(isInteger(y))
            			return yLabels[y];
            		else
            			return '';
            	}
        	}
        }
    },
    tooltip: {
        format: {
            title: function (d) {
            	return 'x = ' + d; },
            value: function (value, ratio, id) {
            	console.log(value, ratio, id);
                return `y = ${value}`;
            }
        }
    }
});
 
</script>
</body>
</html>
